{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/User/OneDrive/%E6%A1%8C%E9%9D%A2/combined-project/frontend/app/%28dashboard%29/groupbuy/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\n\r\ntype GroupBuy = {\r\n  id: number;\r\n  title: string;\r\n  description: string;\r\n  price: number;\r\n  status: '進行中' | '已成團' | '未成團' | '已關閉';\r\n  current_count: number;\r\n  max_count: number;\r\n  deadline: string;\r\n};\r\n\r\nexport default function GroupBuyPage() {\r\n  const [data, setData] = useState<GroupBuy[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:3000/api/organizer_groupbuys')\r\n    .then((res) => {\r\n      if (!res.ok) {\r\n        throw new Error(`API 錯誤 (${res.status})`);\r\n      }\r\n      return res.json();\r\n    })\r\n      .then((json) => {\r\n        setData(json);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.error('無法載入資料:', err);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n    <div className=\"flex justify-between items-center mb-4\">\r\n      <h1 className=\"text-2xl font-bold\">我的團購清單</h1>\r\n      <Link\r\n        href=\"/groupbuy/create\"\r\n        className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n      >\r\n        ＋新增團購\r\n      </Link>\r\n    </div>\r\n      \r\n      <table className=\"w-full table-auto border text-sm bg-white\">\r\n        <thead className=\"bg-gray-100\">\r\n          <tr>\r\n            <th className=\"px-4 py-2 text-left\">商品名稱</th>\r\n            <th className=\"px-4 py-2 text-left\">商品描述</th>\r\n            <th className=\"px-4 py-2 text-left\">價錢</th>\r\n            <th className=\"px-4 py-2 text-left\">狀態</th>\r\n            <th className=\"px-4 py-2 text-left\">目前人數</th>\r\n            <th className=\"px-4 py-2 text-left\">截止日</th>\r\n            <th className=\"px-4 py-2 text-left\">操作</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {data.map((item) => (\r\n            <tr key={item.id} className=\"border-b hover:bg-gray-50\">\r\n              <td className=\"px-4 py-2\">{item.title}</td>\r\n              <td className=\"px-4 py-2\">{item.description}</td>\r\n              <td className=\"px-4 py-2\">{item.price}</td>\r\n              <td className=\"px-4 py-2\">{item.status}</td>\r\n              <td className=\"px-4 py-2\">\r\n                {item.current_count} / {item.max_count}\r\n              </td>\r\n              <td className=\"px-4 py-2\">\r\n                {new Date(item.deadline).toISOString().split('T')[0]}\r\n              </td>\r\n              <td className=\"px-4 py-2\">\r\n                <Link\r\n                  href={`/groupbuy/${item.id}`}\r\n                  className=\"text-blue-600 hover:underline mr-2\"\r\n                >\r\n                \r\n                </Link>\r\n                <Link\r\n                  href={`/groupbuy/${item.id}/edit`}\r\n                  className=\"text-green-600 hover:underline\"\r\n                >\r\n                  編輯\r\n                </Link>\r\n                \r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAgBe,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAc,EAAE;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,4RAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM,iDACL,IAAI;0CAAC,CAAC;oBACL,IAAI,CAAC,IAAI,EAAE,EAAE;wBACX,MAAM,IAAI,MAAM,CAAC,QAAQ,EAAE,IAAI,MAAM,CAAC,CAAC,CAAC;oBAC1C;oBACA,OAAO,IAAI,IAAI;gBACjB;yCACG,IAAI;0CAAC,CAAC;oBACL,QAAQ;oBACR,WAAW;gBACb;yCACC,KAAK;0CAAC,CAAC;oBACN,QAAQ,KAAK,CAAC,WAAW;oBACzB,WAAW;gBACb;;QACJ;iCAAG,EAAE;IAEL,qBACE,4TAAC;QAAI,WAAU;;0BACf,4TAAC;gBAAI,WAAU;;kCACb,4TAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,4TAAC,8RAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;0BAKD,4TAAC;gBAAM,WAAU;;kCACf,4TAAC;wBAAM,WAAU;kCACf,cAAA,4TAAC;;8CACC,4TAAC;oCAAG,WAAU;8CAAsB;;;;;;8CACpC,4TAAC;oCAAG,WAAU;8CAAsB;;;;;;8CACpC,4TAAC;oCAAG,WAAU;8CAAsB;;;;;;8CACpC,4TAAC;oCAAG,WAAU;8CAAsB;;;;;;8CACpC,4TAAC;oCAAG,WAAU;8CAAsB;;;;;;8CACpC,4TAAC;oCAAG,WAAU;8CAAsB;;;;;;8CACpC,4TAAC;oCAAG,WAAU;8CAAsB;;;;;;;;;;;;;;;;;kCAGxC,4TAAC;kCACE,KAAK,GAAG,CAAC,CAAC,qBACT,4TAAC;gCAAiB,WAAU;;kDAC1B,4TAAC;wCAAG,WAAU;kDAAa,KAAK,KAAK;;;;;;kDACrC,4TAAC;wCAAG,WAAU;kDAAa,KAAK,WAAW;;;;;;kDAC3C,4TAAC;wCAAG,WAAU;kDAAa,KAAK,KAAK;;;;;;kDACrC,4TAAC;wCAAG,WAAU;kDAAa,KAAK,MAAM;;;;;;kDACtC,4TAAC;wCAAG,WAAU;;4CACX,KAAK,aAAa;4CAAC;4CAAI,KAAK,SAAS;;;;;;;kDAExC,4TAAC;wCAAG,WAAU;kDACX,IAAI,KAAK,KAAK,QAAQ,EAAE,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;;;;;;kDAEtD,4TAAC;wCAAG,WAAU;;0DACZ,4TAAC,8RAAA,CAAA,UAAI;gDACH,MAAM,CAAC,UAAU,EAAE,KAAK,EAAE,EAAE;gDAC5B,WAAU;;;;;;0DAIZ,4TAAC,8RAAA,CAAA,UAAI;gDACH,MAAM,CAAC,UAAU,EAAE,KAAK,EAAE,CAAC,KAAK,CAAC;gDACjC,WAAU;0DACX;;;;;;;;;;;;;+BArBI,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;AAgC5B;GAhFwB;KAAA"}},
    {"offset": {"line": 260, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}